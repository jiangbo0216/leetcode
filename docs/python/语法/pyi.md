
# pyi 中的 *

[lambda.py](./lambda.py)

def sorted(__iterable: Iterable[_T], *, key: Callable[[_T], SupportsLessThan], reverse: bool = ...) -> List[_T]: ...

在函数定义中，星号 `*` 表示分隔符，用于将位置参数和关键字参数分开。在这个函数定义中，星号 `*` 出现在参数列表的中间位置，表示它后面的参数都是关键字参数，不能作为位置参数传递。

具体来说，这个函数定义中的第一个参数 `__iterable` 是一个位置参数，后面跟着的星号 `*` 表示其后面的参数都是关键字参数。因此，调用这个函数时，`__iterable` 参数必须作为位置参数传递，而 `key` 和 `reverse` 参数可以作为关键字参数传递。

使用星号 `*` 作为分隔符可以让函数定义更加清晰和易读，同时也可以避免一些潜在的参数传递错误。

## 具体的解析

这段代码使用了 Python 的类型注解语法，用于提供静态类型检查和编辑器自动补全等功能。具体来说，它定义了一个名为 `sorted` 的函数，其形参和返回值的类型都使用了类型注解。

函数的第一个参数 `__iterable` 的类型注解为 `Iterable[_T]`，表示它是一个泛型类型，可以接受任何类型的可迭代对象，该可迭代对象中的元素类型为 `_T`。

第二个参数 `key` 的类型注解为 `Callable[[_T], SupportsLessThan]`，表示它是一个接受 `_T` 类型的参数并返回 `SupportsLessThan` 类型的可调用对象。这个可调用对象用于指定排序算法中的比较规则。

第三个参数 `reverse` 的类型注解为 `bool`，表示它是一个布尔类型的可选参数，默认值为 `...`（省略符号），表示它的默认值将在运行时确定。

函数的返回值类型注解为 `List[_T]`，表示它返回一个 `_T` 类型的元素组成的列表。

在类型注解中，`_T` 和 `SupportsLessThan` 都是泛型类型，可以在函数定义中被具体化为实际的类型。

总之，通过使用类型注解，这段代码提供了更好的代码可读性和可维护性，同时也帮助了静态类型检查器和编辑器在开发过程中提供更好的类型推断和代码提示。

## Callable[[_T], SupportsLessThan] 

`Callable[[_T], SupportsLessThan]` 是一个泛型类型注解，表示一个可调用对象，它接受一个 `_T` 类型的参数并返回一个支持小于号比较的对象（即 `SupportsLessThan` 类型）。具体来说，这个类型注解表示函数或其他可调用对象，它的参数类型为 `_T`，返回值类型为支持小于号比较的对象类型。

可调用对象可以是函数、方法、类等，只要它们可以被调用并返回一个符合类型要求的对象即可。在这个函数定义中，`key` 参数是一个可调用对象，用于指定排序算法中的比较规则。因此，它的类型注解为 `Callable[[_T], SupportsLessThan]`，表示它必须接受一个 `_T` 类型的参数并返回一个支持小于号比较的对象。

`SupportsLessThan` 是一个特殊的协议类型，它表示一个对象支持小于号比较。具体来说，对象类型如果要支持小于号比较，它必须实现一个名为 `__lt__` 的特殊方法，该方法接受一个其他对象作为参数，并返回一个布尔值，用于表示当前对象是否小于传入的对象。如果一个对象实现了 `__lt__` 方法并且返回了一个布尔值，那么它就可以被认为是支持小于号比较的对象，从而可以用于排序算法中的比较规则。

总之，`Callable[[_T], SupportsLessThan]` 表示一个接受 `_T` 类型参数并返回支持小于号比较的对象的可调用对象的类型注解。